<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>CBMC: Memory Analyzer</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">CBMC
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('memory-analyzer.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Memory Analyzer </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>The memory analyzer is a front-end that runs and queries GDB in order to obtain a snapshot of the state of the input program at a particular program location. Such a snapshot could be useful on its own: to check the values of variables at a particular program location. Furthermore, since the snapshot is a state of a valid concrete execution, it can also be used for subsequent analyses.</p>
<h2><a class="anchor" id="autotoc_md87"></a>
Usage</h2>
<p>In order to analyze a program with <code>memory-analyzer</code> it needs to be compiled with <code>goto-gcc</code> (assuming <code>goto-gcc</code> is on the <code>PATH</code>):</p>
<div class="fragment"><div class="line">$ goto-gcc -g input_program.c -o input_program_exe</div>
</div><!-- fragment --><p>Calling <code>goto-gcc</code> instead of simply compiling with <code>gcc</code> or <code>goto-cc</code> produces an ELF binary with a goto section that contains the goto model (goto program + symbol table) <a href="../goto-cc/variants/">goto-cc-variants</a>.</p>
<p>The memory analyzer supports two ways of running GDB on the user code: either to run the code from a core-file or up to a break-point. If the user already has a core-file, they can specify it with the option <code>--core-file cf</code>. If the user knows the point of their program from where they want to run the analysis, they can specify it with the option <code>--breakpoint bp</code>. Only one of core-file/break-point option can be used.</p>
<p>The tool also expects a comma-separated list of symbols to be analysed <code>--symbols s1, s2, ...</code>. Given its dependence on GDB, <code>memory-analyzer</code> is a Unix-only tool. The tool calls <code>gdb</code> to obtain the snapshot which is why the <code>-g</code> option is necessary when compiling for the program symbols to be visible.</p>
<p>Take for example the following program:</p>
<div class="fragment"><div class="line"><span class="comment">// main.c</span></div>
<div class="line"><span class="keywordtype">void</span> checkpoint() {}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> array[] = {1, 2, 3};</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> <a class="code" href="file__converter_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97">main</a>()</div>
<div class="line">{</div>
<div class="line">  array[1] = 4;</div>
<div class="line"> </div>
<div class="line">  checkpoint();</div>
<div class="line"> </div>
<div class="line">  <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
</div><!-- fragment --><p>Say we are interested in the evaluation of <code>array</code> at the call-site of <code>checkpoint</code>. We compile the program with</p>
<div class="fragment"><div class="line">$ goto-gcc -g main.c -o main_exe</div>
</div><!-- fragment --><p>And then we call <code>memory-analyzer</code> with:</p>
<div class="fragment"><div class="line">$ memory-analyzer --breakpoint checkpoint --symbols array main_exe</div>
</div><!-- fragment --><p>to obtain as output the human readable list of values for each requested symbol:</p>
<div class="fragment"><div class="line">{</div>
<div class="line">  array = { 1, 4, 3 };</div>
<div class="line">}</div>
</div><!-- fragment --><p>The above option is useful for the user and their preliminary analysis but does not contain enough information for further automated analyses. To that end, memory analyzer has an option for the snapshot to be represented in the format of a symbol table (with <code>--symtab-snapshot</code>). Finally, to obtain an output in JSON format, e.g., for further analyses by <code>goto-harness</code> the additional option <code>--json-ui</code> needs to be passed to <code>memory-analyzer</code>.</p>
<div class="fragment"><div class="line">$ memory-analyzer --symtab-snapshot --json-ui \</div>
<div class="line">--breakpoint checkpoint --symbols array main_exe &gt; snapshot.json</div>
</div><!-- fragment --><p>Last modified: 2022-09-30 12:07:43 +0200 </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<div class="ttc" id="afile__converter_8cpp_html_a0ddf1224851353fc92bfbff6f499fa97"><div class="ttname"><a href="file__converter_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97">main</a></div><div class="ttdeci">int main(int argc, char *argv[])</div><div class="ttdef"><b>Definition:</b> <a href="file__converter_8cpp_source.html#l00041">file_converter.cpp:41</a></div></div>
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="index.html">Documentation</a></li><li class="navelem"><a class="el" href="cprover_documentation.html">CProver documentation</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
