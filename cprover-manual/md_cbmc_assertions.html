<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>CProver manual: cbmc-assertions</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">CProver manual
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">cbmc-assertions </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a href=".">CPROVER Manual TOC</a></p>
<h2><a class="anchor" id="assertion-checking"></a>
Assertion Checking</h2>
<p><a href="http://en.wikipedia.org/wiki/Assertion_%28computing%29">Assertions</a> are statements within the program that attempt to capture the programmer’s intent. The ANSI C standard defines a header file <a href="http://en.wikipedia.org/wiki/Assert.h">assert.h</a>, which offers a macro <code>assert(cond)</code>. When executing a statement such as:</p>
<div class="fragment"><div class="line">assert(p!=NULL);</div>
</div><!-- fragment --><p>the execution is aborted with an error message if the condition evaluates to <em>false</em>, that is, if <code>p</code> is NULL in the example above. The CPROVER tools can check the validity of the programmer-annotated assertions statically. Specifically, the CPROVER tools will check that the assertions hold for <em>any</em> nondeterministic choice that the program can make. The static assertion checks can be disabled using the <code>--no-assertions</code> command line option.</p>
<p>In addition, there is a CPROVER-specific way to specify assertions, using the built-in function <code>__CPROVER_assert</code>:</p>
<div class="fragment"><div class="line">__CPROVER_assert(p!=NULL, <span class="stringliteral">&quot;p is not NULL&quot;</span>);</div>
</div><!-- fragment --><p>The (mandatory) string that is passed as the second argument provides an informal description of the assertion. It is shown in the list of properties together with the condition.</p>
<p>The assertion language of the CPROVER tools is identical to the language used for expressions. Note that <a class="el" href="md_modeling_nondeterminism.html">nondeterminism</a> can be exploited in order to check a range of choices. As an example, the following code fragment asserts that <b>all</b> elements of the array are zero:</p>
<div class="fragment"><div class="line"><span class="keywordtype">int</span> a[100], i;</div>
<div class="line"> </div>
<div class="line">...</div>
<div class="line"> </div>
<div class="line">i=nondet_uint();</div>
<div class="line"><span class="keywordflow">if</span>(i&gt;=0 &amp;&amp; i&lt;100)</div>
<div class="line">  assert(a[i]==0);</div>
</div><!-- fragment --><p>The nondeterministic choice will guess the element of the array that is nonzero. The code fragment above is therefore equivalent to:</p>
<div class="fragment"><div class="line"><span class="keywordtype">int</span> a[100], i;</div>
<div class="line"> </div>
<div class="line">...</div>
<div class="line"> </div>
<div class="line">for(i=0; i&lt;100; i++)</div>
<div class="line">  assert(a[i]==0);</div>
</div><!-- fragment --><p>CPROVER also supports writing function pre and postconditions, using the built-in functions <code>__CPROVER_precondition</code> and <code>__CPROVER_postcondition</code>. They can be used to express intent, and at the moment they are just transformed to assertions in the goto program. As such, they can be used as simple assertions in code. However, it is advised to use <code>__CPROVER_precondition</code> at the beginning of a function’s body, and <code>__CPROVER_postcondition</code> before the exit points in a function (either the return statements, or the end of the body if the function returns void). The following is an example usage:</p>
<div class="fragment"><div class="line"><span class="keywordtype">int</span> foo(<span class="keywordtype">int</span> a, <span class="keywordtype">int</span> b) {</div>
<div class="line">  __CPROVER_precondition(a &gt;= 0);</div>
<div class="line">  __CPROVER_precondition(b &gt; 0);</div>
<div class="line"> </div>
<div class="line">  <span class="keywordtype">int</span> rval = a / b;</div>
<div class="line"> </div>
<div class="line">  __CPROVER_postcondition(rval &gt;= 0);</div>
<div class="line">  <span class="keywordflow">return</span> rval;</div>
<div class="line">}</div>
</div><!-- fragment --><p>A future release of CPROVER will support using these pre and postconditions to create a function contract, which can be used for modular verification.</p>
<p>Future CPROVER releases will support explicit quantifiers with a syntax that resembles Spec#:</p>
<div class="fragment"><div class="line">__CPROVER_forall { *type identifier* ; *expression* }</div>
<div class="line">__CPROVER_exists { *type identifier* ; *expression* }</div>
</div><!-- fragment --><p>Last modified: 2024-09-13 18:34:40 +0200 </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
